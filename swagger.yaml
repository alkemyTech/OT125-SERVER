openapi: 3.0.0
info:
  title: ONG API
  version: 0.1.0

servers:
  - url: http://localhost:3000

security:
  - BearerAuth: []

paths:
  /auth/register:
    post:
      summary: Creates an user and returns an access token
      tags:
        - authorization
      requestBody:
        description: information of the account to be created
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: email@email.com
                firstName:
                  type: string
                  example: Llewyn
                lastName:
                  type: string
                  example: Davis
                image:
                  type: string
                  example: https://pics.filmaffinity.com/A_prop_sito_de_Llewyn_Davis-206373785-large.jpg
                password:
                  type: string
                  example: password
                passwordConfirmation:
                  type: string
                  example: password
              required:
                - email
                - firstName
                - lastName
                - roleId
                - password
                - passwordConfirmation
      responses:
        '201':
          $ref: '#/components/responses/validAuth'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '500':
          $ref: '#/components/responses/GenericError'

  /auth/login:
    post:
      summary: Validates credentials and returns access token
      tags:
        - authorization
      requestBody:
        description: credentials to login into account
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: email@email.com
                password:
                  type: string
                  example: password
              required:
                - email
                - password
      responses:
        '200':
          $ref: '#/components/responses/validAuth'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '403':
          $ref: '#/components/responses/GenericError'
        '500':
          $ref: '#/components/responses/GenericError'
  /categories:
    get:
      summary: Get a categories paginated list.
      tags:
      - Categories
      description: 'Get a list of categories'
      parameters:
        - name: page
          in: query
          description: 'Optional pagination'
          required: false
          style: form
          explode: true
          schema:
            type: string
      responses:
        '200':
            $ref: '#/components/responses/CategoryPaginated'
        '400':
            $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions. 
      security:
        - BearerAuth: []
    post:
       summary: Creates a new category
       tags:
        - Categories
       requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryObject'
        required: true
       responses:
        '201':
          $ref: '#/components/responses/CategoryResponse'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions. 
        '409':
          description: Category name already exists on database.
       security:
        - BearerAuth: []   
  /categories/{id}:
    get:
      summary: Get a specific category.
      parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
      tags:
      - Categories
      description: 'Get a category by id'
      responses:
        '200':
            $ref: '#/components/responses/CategoryResponse'
        '400':
            $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
        '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []
    put:
       summary: Update a category
       tags:
        - Categories
       parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
       requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryObject'
        required: true
       responses:
        '200':
          $ref: '#/components/responses/CategoryResponse'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
       security:
        - BearerAuth: []
    delete: 
      summary: Delete a specific category
      parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
      tags:
      - Categories
      responses:
       '202':
         $ref: '#/components/responses/CategoryDeleted'
       '400':
          $ref: '#/components/responses/ValidationErrors'
       '401':
          description: Token missing in header.
       '403':
          description: Insufficient permissions.
       '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []
       
       

  /users:
    get:
      summary: Returns a list of users
      tags:
        - users
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            example: 1
          description: page number; default 1
        - in: query
          name: limit
          schema:
            type: integer
            example: 10
          description: qty of user per page; default 10
      responses:
        '200':
          description: list of users
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
                  metadata:
                    type: object
                    properties:
                      lastPage:
                        type: number
                        example: 3
                      currentPage:
                        type: number
                        example: 1
                      previousPage:
                        type: number
                        example: null
                      nextPage:
                        type: number
                        example: 2


  /activities:
    post:
      summary: Creates a new Activity
      tags:
        - Activities
      requestBody:
        description: body
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: activityTest 33
                content:
                  type: string
                  example: Demo content
                image:
                  type: string
                  example: https://live.staticflickr.com/65535/49737580966_d7eb77f786_b.jpg
              required:
                - email
                - content
                - image
      responses:
        '200':
          $ref: '#/components/responses/validAuth'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '403':
          $ref: '#/components/responses/GenericError'
        '500':
          $ref: '#/components/responses/GenericError'

  /activities/{id}:
    put:
      summary: Updates an existing activity
      tags:
        - Activities
      parameters:
        - name: id
          in: path
          required: true
          description: Activity ID.
          schema:
            type : integer
            format: int64
            minimum: 1
      requestBody:
        description: Activity new values
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: activityTest 44
                content:
                  type: string
                  example: Demo content
                image:
                  type: string
                  example: https://live.staticflickr.com/65535/49737580966_d7eb77f786_b.jpg
              required:
                - email
                - content
                - image
      responses:
        '200':
          $ref: '#/components/responses/validAuth'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '403':
          $ref: '#/components/responses/GenericError'
        '500':
          $ref: '#/components/responses/GenericError'
  
  /testimonials:
    get:
      summary: Get  a testimonial paginated list.
      tags:
      - Testimonials
      description: 'Get a list of testimonials'
      parameters:
        - name: page
          in: query
          description: 'Optional pagination'
          required: false
          style: form
          explode: true
          schema:
            type: string
      responses:
        '200':
            $ref: '#/components/responses/TestimonialPaginated'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions. 
        '404':
          $ref: '#/components/responses/EntityNotFound'
        
      security:
        - BearerAuth: []
    post:
       summary: Create a new testimonial
       tags:
        - Testimonials
       requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TestimonialObject'
        required: true
       responses:
        '201':
          $ref: '#/components/responses/TestimonialResponse'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions. 
        
       security:
        - BearerAuth: []  
  
  
  /testimonials/{id}:
    put:
       summary: Update an existing testimonial
       tags:
        - Testimonials
       parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
       requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TestimonialObject'
        required: true
       responses:
        '200':
          $ref: '#/components/responses/TestimonialResponse'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
       security:
        - BearerAuth: []
    delete: 
      summary: Delete a specific testimonial
      parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
      tags:
      - Testimonials
      responses:
       '202':
         $ref: '#/components/responses/TestimonialDeleted'
       '400':
          $ref: '#/components/responses/ValidationErrors'
       '401':
          description: Token missing in header.
       '403':
          description: Insufficient permissions.
       '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []

  /members:
   get:
      summary: Get a member paginated list.
      tags:
      - Members
      description: 'Get a list of members'
      parameters:
        - name: page
          in: query
          description: 'Optional pagination'
          required: false
          style: form
          explode: true
          schema:
            type: string
      responses:
        '200':
            $ref: '#/components/responses/MemberPaginated'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions. 
        '404':
          $ref: '#/components/responses/EntityNotFound'
        
      security:
        - BearerAuth: []
   post:
       summary: Create a new member 
       tags:
        - Members
       requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberObject'
        required: true
       responses:
        '201':
          $ref: '#/components/responses/MemberResponse'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions. 
        '409':
          description: Member name already exists on database.
       security:
        - BearerAuth: []  

  /members/{id}:
    get:
      summary: Get a specific member.
      parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
      tags:
      - Members
      description: 'Get a member by id'
      responses:
        '200':
            $ref: '#/components/responses/MemberResponse'
        '400':
            $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
        '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []
    put:
       summary: Update an existing member
       tags:
        - Members
       parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
       requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberObject'
        required: true
       responses:
        '200':
          $ref: '#/components/responses/MemberResponse'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
       security:
        - BearerAuth: []
    delete: 
      summary: Delete a specific member
      parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
      tags:
      - Members
      responses:
       '202':
         $ref: '#/components/responses/MemberDeleted'
       '400':
          $ref: '#/components/responses/ValidationErrors'
       '401':
          description: Token missing in header.
       '403':
          description: Insufficient permissions.
       '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []
  
  /slides:
    post:
        summary: Creates a new slide
        tags:
          - Slides
        requestBody:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SlideObject'
          required: true
        responses:
          '201':
            $ref: '#/components/responses/SlideResponse'
          '400':
            $ref: '#/components/responses/ValidationErrors'
          '401':
            description: Token missing in header.
          '403':
            description: Insufficient permissions. 
          '409':
            description: Slide name already exists on database.
        security:
          - BearerAuth: []   
    
    get:
      summary: Get slides.
      tags:
      - Slides
      description: 'Get slides'
      responses:
        '200':
            $ref: '#/components/responses/SlideResponse'
        '400':
            $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
        '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []   

  /slides/{id}:
    get:
      summary: Get a specific slide.
      
      parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
      tags:
      - Slides
      description: 'Get a slide by id'
      responses:
        '200':
            $ref: '#/components/responses/SlideResponse'
        '400':
            $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
        '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []

    put:
      summary: Updates an existing activity
      tags:
        - Slides
      parameters:
        - name: id
          in: path
          required: true
          description: Slide ID.
          schema:
            type : integer
            format: int64
            minimum: 1
      requestBody:
        description: Slide new values
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SlideObject'
      responses:
        '200':
          $ref: '#/components/responses/validAuth'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '403':
          $ref: '#/components/responses/GenericError'
        '500':
          $ref: '#/components/responses/GenericError'

  /news:
    get:
      summary: Get a News paginated list.
      tags:
      - News
      description: 'Get a list of news'
      parameters:
      - name: page
        in: query
        description: 'Optional pagination'
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        '200':
            $ref: '#/components/responses/NewPaginated'
        '400':
            $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions. 
      security:
        - BearerAuth: []
    post:
       summary: Creates a new Novelty
       tags:
        - News
       requestBody:
        description: body
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: novently test
                content:
                  type: string
                  example: Demo content
                image:
                  type: string
                  example: https://360luminous.com/wp-content/uploads/2020/06/news2.jpg
                categoryId:
                  type: integer
              required:
                - email
                - content
                - image
                - categoryId
       responses:
        '201':
          $ref: '#/components/responses/NewsResponse'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions. 
        '409':
          description: Novently name already exists on database.
       security:
        - BearerAuth: []
  /news/{id}:
    get:
      summary: Get a specific new.
      parameters:
         - name: id
           in: path
           schema:
            type: integer
           required: true
      tags:
      - News
      description: 'Get a novently by id'
      responses:
        '200':
            $ref: '#/components/responses/NewsResponse'
        '400':
            $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
        '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []
    put:
       summary: Update a novently
       tags:
        - News
       parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
       requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: newName
                content:
                  type: string
                  example: new content
                image:
                  type: string
                  example: https://360luminous.com/wp-content/uploads/2020/06/news2.jpg
                categoryId: 
                  type: integer
                  example: 1
        required: true
       responses:
        '200':
          $ref: '#/components/responses/NewsResponse'
        '400':
          $ref: '#/components/responses/ValidationErrors'
        '401':
          description: Token missing in header.
        '403':
          description: Insufficient permissions.
       security:
        - BearerAuth: []
    delete: 
      summary: Delete a specific novently
      parameters:
         - in: path
           name: id
           schema:
            type: integer
           required: true
      tags:
      - News
      responses:
       '202':
         $ref: '#/components/responses/NewDeleted'
       '400':
          $ref: '#/components/responses/ValidationErrors'
       '401':
          description: Token missing in header.
       '403':
          description: Insufficient permissions.
       '404':
          $ref: '#/components/responses/EntityNotFound'
      security:
        - BearerAuth: []


components:
  schemas:
    User:
      type: object
      properties:
        email:
          type: string
          example: email@email.com
        password:
          type: string
          example: password
        firstName:
          type: string
          example: Llewyn
        lastName:
          type: string
          example: Davis
        image:
          type: string
          example: https://pics.filmaffinity.com/A_prop_sito_de_Llewyn_Davis-206373785-large.jpg
        roleId:
          type: number
          example: 1
        createdAt:
          type: string
          example: 2022-01-29T14:08:56.919Z
        updatedAt:
          type: string
          example: 2022-01-29T14:08:56.919Z
        deletedAt:
          type: string
          example: null
    CategoryObject:
       type: object
       required:
        - name
       properties:
        name: 
         type: string
         example: category 1
        image: 
         type: string
         example: https://i.imgur.com/example-category.jpg
        description:
         type: string
         example: Sample description of category
    Category:
     type: object
     properties:
       id: 
        type: integer
        example: 1
       name: 
        type: string
        example: category 1
       image: 
        type: string
        example: https://i.imgur.com/example-category.jpg
       description:
        type: string
        example: Sample description of category
       createdAt: 
        type: string
        example: "2022-02-03T04:09:51.592Z"
       updatedAt: 
        type: string
        example: "2022-02-03T04:09:51.592Z" 
    CategorySimplifiedDTO:
      type: object
      properties:
       id:
         type: integer
         example: 1
       name:
         type: string
         example: Category 1
    CategoryPaginatedDTO:
     type: object
     properties:
      categories:
       type: array
       items:
        $ref: "#/components/schemas/CategorySimplifiedDTO"
      metadata:
       type: object
       properties:
         finalPage:
             type: integer
             example: 10
         nextPage:
             type: integer
             example: 3
         previousPage:
             type: integer 
             example: 1
      
    TestimonialObject:
       type: object
       required:
        - name
       properties:
        name: 
         type: string
         example: testimonial 1
        image: 
         type: string
         example: https://i.imgur.com/example-testimonial.jpg
        content:
         type: string
         example: Sample content of testimonial
    Testimonial:
     type: object
     properties:
       id: 
        type: integer
        example: 1
       name: 
        type: string
        example: testimonial 1
       image: 
        type: string
        example: https://i.imgur.com/example-testimonial.jpg
       content:
        type: string
        example: Sample description of testimonial
       createdAt: 
        type: string
        example: "2022-02-03T04:09:51.592Z"
       updatedAt: 
        type: string
        example: "2022-02-03T04:09:51.592Z" 
    TestimonialSimplifiedDTO:
      type: object
      properties:
       id:
         type: integer
         example: 1
       name:
         type: string
         example: Testimonial1
    TestimonialPaginatedDTO:
     type: object
     properties:
      categories:
       type: array
       items:
        $ref: "#/components/schemas/TestimonialSimplifiedDTO"
      metadata:
       type: object
       properties:
         finalPage:
             type: integer
             example: 10
         nextPage:
             type: integer
             example: 3
         previousPage:
             type: integer 
             example: 1

    MemberObject:
       type: object
       required:
        - name
       properties:
        name: 
         type: string
         example: member 1
        facebookUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
        instagramUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
        linkedinUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
        image: 
         type: string
         example: https://i.imgur.com/example-member.jpg
        description:
         type: string
         example: Sample content of member
    Member:
     type: object
     properties:
       id: 
        type: integer
        example: 1
       name: 
        type: string
        example: member 1
       facebookUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
       instagramUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
       linkedinUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
       image: 
        type: string
        example: https://i.imgur.com/example-member.jpg
       description:
        type: string
        example: Sample description of member
       createdAt: 
        type: string
        example: "2022-02-03T04:09:51.592Z"
       updatedAt: 
        type: string
        example: "2022-02-03T04:09:51.592Z" 
    MemberSimplifiedDTO:
      type: object
      properties:
       id:
         type: integer
         example: 1
       name:
         type: string
         example: Member1
       facebookUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
       instagramUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
       linkedinUrl: 
         type: string
         example: https://i.imgur.com/example-member.jpg
       image: 
        type: string
        example: https://i.imgur.com/example-member.jpg
       description:
        type: string
        example: Sample description of member
       
    MemberPaginatedDTO:
     type: object
     properties:
      categories:
       type: array
       items:
        $ref: "#/components/schemas/MemberSimplifiedDTO"
      metadata:
       type: object
       properties:
         finalPage:
             type: integer
             example: 10
         nextPage:
             type: integer
             example: 3
         previousPage:
             type: integer 
             example: 1
    SlideObject:
       type: object
       required:
        - name
       properties:
        imageUrl: 
         type: string
         example: data:image/png;base64,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
        text: 
         type: string
         example: description 4
        order: 
         type: integer
         example: 4
        organizationId: 
         type: integer
         example: 4
        name: 
         type: string
         example: LOGO-SOMOS-MAS4
    
    NewObject:
       type: object
       required:
        - name
       properties:
        name: 
         type: string
         example: novently 1
        image: 
         type: string
         example: https://360luminous.com/wp-content/uploads/2020/06/news2.jpg
        description:
         type: string
         example: Sample description of Novently
    News:
     type: object
     properties:
       id: 
        type: integer
        example: 1
       name: 
        type: string
        example: Novently 1
       content: 
        type: string
        example: content example
       image: 
        type: string
        example: https://360luminous.com/wp-content/uploads/2020/06/news2.jpg
       categoryID: 
        type: integer
        example: 1
       description:
        type: string
        example: Sample description of New
       createdAt: 
        type: string
        example: "2022-02-03T04:09:51.592Z"
       updatedAt: 
        type: string
        example: "2022-02-03T04:09:51.592Z"
    NewsSimplifiedDTO:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: Novently 1
        content: 
          type: string
          example: content example
        image: 
          type: string
          example: https://360luminous.com/wp-content/uploads/2020/06/news2.jpg
    NewsPaginatedDTO: 
      type: object
      properties:
        pagesUrl:
          type: object
          properties:
            previous:
              type: string
              example: http://localhost:3000/news/?page=1
            next:
              type: string
              example: http://localhost:3000/news/?page=3
        itemsCount:
          type: integer
          example: 20
        totalPAges: 
          type: integer
          example: 5
        data:
          type: array
          items:
          $ref: "#/components/schemas/NewsSimplifiedDTO"

  responses:
    JWT:
      description: token
      content:
        application/json:
          schema:
            type: object
            properties:
              token:
                type: string
                example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c'
    validAuth:
      description: OK
      content:
        application/json:
          schema:
            type: object
            properties:
              user:
                type: object
                properties:
                  email:
                    type: string
                    example: email@email.com
                  firstName:
                    type: string
                    example: Llewyn
                  lastName:
                    type: string
                    example: Davis
                  image:
                    type: string
                    example: https://pics.filmaffinity.com/A_prop_sito_de_Llewyn_Davis-206373785-large.jpg
                  roleId:
                    type: number
                    example: 1
                  createdAt:
                    type: string
                    example: 2022-01-29T14:08:56.919Z
                  updatedAt:
                    type: string
                    example: 2022-01-29T14:08:56.919Z
              token:
                type: string
                example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c'
    ValidationErrors:
      description: A JSON array of errors
      content:
        application/json:
          schema:
            type: object
            properties:
              errors:
                type: array
                items:
                  type: object
                  properties:
                    msg:
                      type: string
                    param:
                      type: string
                    location:
                      type: string
    GenericError:
      description: A json array of errors
      content:
        application/json:
          schema:
            type: object
            properties:
              errors:
                type: array
                items:
                  type: object
                  properties:
                    msg:
                      type: string
    CategoryResponse:
      description: A json data response for category
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                $ref: '#/components/schemas/Category'
    CategoryPaginated:
     description: response of paginated categories with only id and name.
     content:
        application/json:
          schema:
            $ref: '#/components/schemas/CategoryPaginatedDTO'
    CategoryDeleted:
      description: Success deleted message
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                type: object
                properties:
                  deleteStatus:
                     type: string
                     example: Category with id 17 deleted successfully.

    TestimonialResponse:
      description: A json data response for testimonial
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                $ref: '#/components/schemas/Testimonial'
    TestimonialPaginated:
     description: response of paginated testimonial with only id and name.
     content:
        application/json:
          schema:
            $ref: '#/components/schemas/TestimonialPaginatedDTO'
    TestimonialDeleted:
      description: Success deleted message
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                type: object
                properties:
                  deleteStatus:
                     type: string
                     example: Testimonial with id 17 deleted successfully.

    MemberResponse:
      description: A json data response for member
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                $ref: '#/components/schemas/Member'
    MemberPaginated:
     description: response of paginated member with the infortmation required.
     content:
        application/json:
          schema:
            $ref: '#/components/schemas/MemberPaginatedDTO'
    MemberDeleted:
      description: Success deleted message
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                type: object
                properties:
                  deleteStatus:
                     type: string
                     example: Member with id 17 deleted successfully.
    
    NewsResponse:
      description: A json data response for novently
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                $ref: '#/components/schemas/News'
    NewPaginated:
     description: response of paginated news with only id and name.
     content:
        application/json:
          schema:
            $ref: '#/components/schemas/NewsPaginatedDTO'

    NewDeleted: 
      description: Success deleted message
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                type: object
                properties:
                  deleteStatus:
                     type: string
                     example: Novently 11 removed successfully
     

    EntityNotFound:
      description: Error message when required entity doesn't exists in database.
      content:
        application/json:
          schema:
            type: object
            properties:
              error: 
                type: string
                example: Entity with id X doesn't exists.
    SlideResponse:
      description: A json data response for slide
      content:
        application/json:
          schema:
            type: object
            properties:
              data: 
                $ref: '#/components/schemas/SlideObject'            


  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: jwt
      description: 'note: non-oauth scopes are not defined at the securityScheme level'

tags:
  - name: authorization
  - name: Categories
    description: Categories CRUD
